<div class="row">
  <div class="col-xs-11">
    <h3>Add a party member: </h3>
    <nz-select nzShowSearch
               nzPlaceHolder="Select a character"
               class="pseudo-fullwidth"
               [(ngModel)]="selectValue"
               (ngModelChange)="onCharacterSelected($event)"
               [nzDisabled]="party.length > 9"
    >
      <nz-option nzCustomContent
                 *ngFor="let entry of characters | keyvalue"
                 [nzLabel]="entry.value.name"
                 [nzValue]="entry.value"
                 [nzDisabled]="isInParty(entry.value)"
      >
        <div>
          <div class="pull-left">
            <img [src]="entry.value.icon" alt="Icon" style="max-height: 20px;">
            {{ entry.value.name }}
            <fa-icon *ngIf="entry.value.isNew" [icon]="fasBell" style="color: gold;"></fa-icon>
            <fa-icon *ngIf="isInParty(entry.value)" [icon]="faExclamation"></fa-icon>
          </div>
          <div class="pull-right">
            <img [src]="'assets/elements/' + entry.value.element + '.png'" alt="Element" style="max-height: 20px;">
            <img [src]="'assets/weapontypes/' + entry.value.weaponType + '.png'" alt="Weapon" style="max-height: 20px;">
          </div>
        </div>
      </nz-option>
    </nz-select>
  </div>
</div>
<nz-divider></nz-divider>

<div class="row">
  <div class="col-xs-12">
    <div class="list-group-item clearfix">
      <div class="pull-left">
        <h4>A party</h4>
      </div>
      <div class="pull-right">
        <nz-switch nzSize="small" nz-tooltip="Don't ask again" [(ngModel)]="forceDelete"></nz-switch>
      </div>
    </div>
    <div *ngIf="party.length != 0; else emptyParty">
      <app-partymember *ngFor="let member of party"
                       [member]="member"
                       (memberSelected)="onSelected(member)"
                       (memberRemoved)="onRemoved(member)"
                       [forceDelete]="forceDelete"
      >
      </app-partymember>
    </div>
    <ng-template #emptyParty>
      <nz-empty [nzNotFoundFooter]="footerTpl">
        <ng-template #footerTpl>
          <button nz-button nzType="primary" (click)="addDefaultParty()">Add default party</button>
        </ng-template>
      </nz-empty>
    </ng-template>
  </div>
</div>
<nz-divider></nz-divider>
